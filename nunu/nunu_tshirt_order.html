<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>누에 티셔츠 주문</title>
  <style>
    :root{
      --bg:#ffffff; --paper:#ffffff; --ink:#0f172a; --sub:#6b7280;
      --pri:#4b5563; --muted:#e5e7eb; --ring:rgba(107,114,128,.25);
      --shadow:0 10px 30px rgba(17,24,39,.08);
      --green:#059669; --blue:#1e3a8a; --danger:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Apple SD Gothic Neo,Malgun Gothic,Arial,sans-serif}
    .wrap{max-width:980px;margin:0 auto;padding:24px}

    /* NAV */
    header.nav{position:sticky;top:0;backdrop-filter:saturate(180%) blur(8px);background:rgba(247,246,243,.75);border-bottom:1px solid var(--muted);z-index:50}
    .nav-inner{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:12px 16px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 14px;border-radius:999px;border:1px solid var(--muted);background:var(--paper);color:var(--ink);text-decoration:none;font-weight:600}
    .btn.primary{background:var(--pri);color:#fff;border:0}
    .btn.success{background:var(--green);color:#fff;border:0}
    .btn:hover{box-shadow:0 6px 18px rgba(15,23,42,.08)}
    .btn.lg{font-size:16px;padding:10px 18px;min-height:42px;min-width:140px}

    /* HERO */
    .hero{margin:20px auto 14px;border-radius:24px;background:
      radial-gradient(1200px 600px at 10% -10%, #f3f4f6, transparent 60%),
      radial-gradient(1200px 600px at 110% 10%, #eef2f7, transparent 60%),
      var(--paper);box-shadow:var(--shadow)}
    .hero-inner{display:grid;gap:8px;padding:24px}
    .hero h1{margin:0;font-size:clamp(22px,4vw,32px);letter-spacing:-.3px;line-height:1.15;text-align:center}
    .hero .sub{margin:6px 0 0;color:var(--sub);font-weight:600;text-align:center}

    /* CARD */
    .card{background:var(--paper);border:1px solid var(--muted);border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
    .card .inner{padding:18px}

    /* PRODUCT — 이미지 크게(+설명 하단) */
    .prod-figure{border:1px solid var(--muted);border-radius:12px;overflow:hidden;background:#f3f4f6;display:block}
    .prod-figure img{
      width:100%;height:auto;display:block;object-fit:contain;
      aspect-ratio:5/4; /* ⬅ 더 크게(세로 비율 확대) */
    }
    .prod-desc{margin-top:12px}
    .prod-desc h3{margin:0 0 8px}
    .prod-desc p{margin:0 0 10px;color:var(--sub)}
    .bullets{margin:8px 0 0;padding-left:18px}
    .bullets li{margin:4px 0}

    /* FORM */
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media (max-width:720px){.grid{grid-template-columns:1fr}}
    label{font-weight:700;display:block;margin-bottom:6px}
    .req{color:var(--danger)}
    .subnote{color:var(--sub);font-size:12px;margin-top:4px}
    input[type="text"], input[type="tel"], textarea, select{
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--muted); outline:none; background:#fff;
    }
    textarea{min-height:84px; resize:vertical}
    input:focus, textarea:focus, select:focus{box-shadow:0 0 0 3px var(--ring)}
    .invalid{border-color:#ef4444 !important; box-shadow:0 0 0 2px rgba(239,68,68,.2) !important}

    /* Radio pills */
    .radios{display:flex;gap:10px;flex-wrap:wrap}
    .radio{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--muted);border-radius:999px;cursor:pointer;background:#fff;user-select:none}
    .radio input{accent-color:#2563eb}
    .radio:hover{box-shadow:0 6px 18px rgba(15,23,42,.06)}
    .radio.selected{border-color:#93c5fd;background:#eff6ff;color:#1e3a8a}

    /* SIZE STEPPER */
    .sizes{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
    @media (max-width:900px){.sizes{grid-template-columns:repeat(3,1fr)}}
    .size-box{border:1px solid var(--muted);border-radius:12px;padding:10px;text-align:center;display:flex;flex-direction:column;gap:8px}
    .size-box h4{margin:0;font-size:14px}
    .stepper{display:flex;align-items:center;justify-content:center;gap:8px}
    .stepper button{width:34px;height:34px;border-radius:10px;border:1px solid var(--muted);background:#fff;cursor:pointer;font-size:18px;line-height:1}
    .stepper button:active{transform:translateY(1px)}
    .stepper input{width:64px;text-align:center;padding:8px 6px;border-radius:10px;border:1px solid var(--muted);background:#fff}
    .stepper input[readonly]{background:#fff}
    .total{margin-top:10px;font-weight:800;color:var(--blue)}

    /* SUMMARY */
    .paybox{margin-top:12px;border:1px dashed #cbd5e1;border-radius:12px;padding:12px}
    .paybox .row{display:flex;justify-content:space-between;gap:10px;margin:4px 0}
    .paybox .row.total{font-weight:900;border-top:1px solid #e5e7eb;padding-top:8px}
    .paybox .acc{margin-top:6px;color:#111827}
    .paybox .note{color:#6b7280;font-size:13px;margin-top:6px}

    /* TABLE (사이즈표) */
    .table-wrap{border:1px solid var(--muted);border-radius:12px;background:#fff;overflow:auto}
    table{width:100%;border-collapse:separate;border-spacing:0}
    thead th{position:sticky;top:0;background:#f8fafc;border-bottom:1px solid var(--muted);text-align:left;padding:10px 12px;font-size:14px;color:#334155;white-space:nowrap}
    tbody td{padding:10px 12px;border-bottom:1px solid #f1f5f9;vertical-align:middle}
    tbody tr:hover{background:#fafafa}

    /* 하단 버튼 중앙정렬 + 위 간격 소폭 */
    .actions{display:flex;gap:12px;justify-content:center;margin-top:12px}
  </style>
  <!-- 카카오 우편번호 -->
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body>
  <header class="nav">
    <div class="nav-inner wrap">
      <a class="btn" href="index.html">Home</a>
    </div>
  </header>

  <main class="wrap">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-inner">
        <h1>누에 티셔츠 주문</h1>
        <div class="sub">뒷면 옵션에 따라 단가가 달라집니다. 한 주문서에는 <b>하나의 뒷면 옵션만</b> 선택해 주세요.</div>
      </div>
    </section>

    <!-- 제품 소개 -->
    <section class="card" aria-labelledby="hdr-prod">
      <div class="inner">
        <figure class="prod-figure">
          <img src="https://www.hanri.net/nunu/nunu_tshirt_image.png" alt="누에 티셔츠 제품 이미지" onerror="this.style.opacity=.25; this.alt='이미지 준비중'">
        </figure>
        <div class="prod-desc">
          <h3 id="hdr-prod">누누 케릭터 티셔츠</h3>
          <p>귀여운 누에와 하루를 함께 시작해보세요! 부드러운 코튼 원단에 귀여운 누에을 더한 데일리 티셔츠입니다. 흰색/검은색 2가지 색상과 뒷면 옵션 없음·텍스트형 중 선택 가능합니다. 누에엥~</p>
          <ul class="bullets">
            <li><b>가격</b> — 뒷면 옵션 <u>없음 16,000원</u> · <u>텍스트형 23,000원</u> (장당)</li>
            <li><b>배송비</b> — 4,000원(주문당)</li>
            <li><b>입금 계좌</b> — 농협 <u>302-1235-6391-61</u> (예금주: 한리)</li>
            <li>사이즈: S · M · L · XL · 2XL</li>
            <li>소재: 면100% (애쉬 95/5, 모쿠그레이 80/20)</li>
            <li>핏: 정사이즈(남녀공용) · 신축성 좋음 · 도톰한 17수</li>
          </ul>
          <p class="sub" style="margin-top:8px"><b>안내</b> — 뒷면 옵션이 다른 경우 <u>각 옵션별로 주문서를 따로 제출</u>해 주세요. (예: 없음 2장 / 텍스트형 1장 ⇒ 2건으로 접수)</p>
        </div>
      </div>
    </section>

    <!-- 주문자 정보 -->
    <section class="card" style="margin-top:16px" aria-labelledby="hdr-orderer">
      <div class="inner">
        <h2 id="hdr-orderer" style="margin:0 0 12px">주문자 정보</h2>
        <div class="grid">
          <div>
            <label for="custName">주문자 명 <span class="req">*</span></label>
            <input id="custName" type="text" placeholder="예: 홍길동"/>
          </div>
          <div>
            <label for="phone">전화번호 <span class="req">*</span></label>
            <input id="phone" type="tel" inputmode="tel" maxlength="13" placeholder="예: 010-1234-5678"/>
            <div class="subnote">입력 시 자동으로 000-0000-0000 형식으로 변환됩니다.</div>
          </div>
          <!-- 주소 -->
          <div style="grid-column:1/-1">
            <label>집 주소 <span class="req">*</span></label>
            <div class="addr-row" style="display:grid;grid-template-columns:140px 1fr auto;gap:10px;margin-bottom:8px">
              <input id="postcode" type="text" placeholder="우편번호" readonly/>
              <input id="addr1" type="text" placeholder="도로명 주소" readonly/>
              <button type="button" class="btn" id="btnFindAddr">주소 찾기</button>
            </div>
            <input id="addr2" type="text" placeholder="상세 주소 (동/호수 등)"/>
            <div class="subnote">‘주소 찾기’로 우편번호/도로명 주소를 채운 뒤, 상세주소를 입력하세요.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 옵션 -->
    <section class="card" style="margin-top:16px" aria-labelledby="hdr-opt">
      <div class="inner">
        <h2 id="hdr-opt" style="margin:0 0 12px">옵션 선택</h2>
        <div class="grid">
          <!-- 색상 -->
          <div>
            <label>티셔츠 색상 <span class="req">*</span></label>
            <div class="radios" id="colorGroup" role="radiogroup" aria-label="티셔츠 색상">
              <label class="radio"><input type="radio" name="color" value="흰색" hidden/><span>흰색</span></label>
              <label class="radio"><input type="radio" name="color" value="검은색" hidden/><span>검은색</span></label>
            </div>
          </div>
          <!-- 뒷면 옵션 -->
          <div>
            <label>뒷면 옵션 <span class="req">*</span></label>
            <div class="radios" id="designGroup" role="radiogroup" aria-label="뒷면 옵션">
              <label class="radio"><input type="radio" name="design" value="없음" hidden/><span>없음 (₩16,000)</span></label>
              <label class="radio"><input type="radio" name="design" value="텍스트형" hidden/><span>텍스트형 (₩23,000)</span></label>
            </div>
            <div class="subnote">※ 한 주문서에는 하나의 뒷면 옵션만 선택 가능합니다. 옵션이 다르면 주문을 나눠 주세요.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 사이즈 수량 -->
    <form id="orderForm" class="card" style="margin-top:16px" novalidate>
      <div class="inner">
        <h2 style="margin:0 0 12px">사이즈별 수량</h2>
        <div class="sizes" id="sizesWrap">
          <div class="size-box" data-size="S"><h4>S</h4>
            <div class="stepper">
              <button type="button" class="qty-btn" data-delta="-1">−</button>
              <input type="number" value="0" min="0" max="99" readonly>
              <button type="button" class="qty-btn" data-delta="1">+</button>
            </div>
          </div>
          <div class="size-box" data-size="M"><h4>M</h4>
            <div class="stepper">
              <button type="button" class="qty-btn" data-delta="-1">−</button>
              <input type="number" value="0" min="0" max="99" readonly>
              <button type="button" class="qty-btn" data-delta="1">+</button>
            </div>
          </div>
          <div class="size-box" data-size="L"><h4>L</h4>
            <div class="stepper">
              <button type="button" class="qty-btn" data-delta="-1">−</button>
              <input type="number" value="0" min="0" max="99" readonly>
              <button type="button" class="qty-btn" data-delta="1">+</button>
            </div>
          </div>
          <div class="size-box" data-size="XL"><h4>XL</h4>
            <div class="stepper">
              <button type="button" class="qty-btn" data-delta="-1">−</button>
              <input type="number" value="0" min="0" max="99" readonly>
              <button type="button" class="qty-btn" data-delta="1">+</button>
            </div>
          </div>
          <div class="size-box" data-size="2XL"><h4>2XL</h4>
            <div class="stepper">
              <button type="button" class="qty-btn" data-delta="-1">−</button>
              <input type="number" value="0" min="0" max="99" readonly>
              <button type="button" class="qty-btn" data-delta="1">+</button>
            </div>
          </div>
        </div>

        <div class="paybox" id="paybox">
          <div class="row"><span>선택 수량</span><strong id="qTotal">0 장</strong></div>
          <div class="row"><span>단가(뒷면 옵션)</span><strong id="unitPrice">—</strong></div>
          <div class="row"><span>소계</span><strong id="subtotal">—</strong></div>
          <div class="row"><span>배송비</span><strong id="shipping">₩0</strong></div>
          <div class="row total"><span>총 결제금액</span><strong id="grandTotal">₩0</strong></div>
          <div class="acc">입금 계좌: <b>농협 302-1235-6391-61 (예금주: 한리)</b></div>
          <div class="note">주문서 제출 후 위 계좌로 입금해 주세요. (입금자명=주문자명)</div>
        </div>

        <div class="actions">
          <button type="submit" class="btn success lg" id="btnSubmit">주문 제출</button>
          <button type="button" class="btn lg" id="btnReset">초기화</button>
        </div>
        <div id="status" role="status" aria-live="polite"></div>
      </div>
    </form>

    <!-- 사이즈 표 -->
    <section class="card" style="margin-top:16px" aria-labelledby="hdr-size">
      <div class="inner">
        <h2 id="hdr-size" style="margin:0 0 12px">사이즈 정보</h2>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Size (cm)</th>
                <th>S</th><th>M</th><th>L</th><th>XL</th><th>2XL</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>총기장</td><td>66</td><td>70</td><td>74</td><td>77</td><td>81</td></tr>
              <tr><td>어깨너비</td><td>45.5</td><td>48</td><td>50</td><td>53</td><td>55</td></tr>
              <tr><td>가슴너비</td><td>47</td><td>51</td><td>54</td><td>56</td><td>59</td></tr>
              <tr><td>소매길이</td><td>19</td><td>19.5</td><td>21</td><td>23</td><td>25</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <script>
    /* ★ Apps Script 웹앱 URL로 교체 */
    const ENDPOINT = 'https://script.google.com/macros/s/PASTE_YOUR_DEPLOYMENT_ID/exec';
    const $ = (s)=>document.querySelector(s);

    /* 상수(가격) */
    const PRICE_NO_BACK = 16000;    // 없음
    const PRICE_TEXTBACK = 23000;   // 텍스트형(수정)
    const SHIPPING = 4000;          // 주문당

    /* 전화번호 자동 하이픈 */
    const onlyDigits = s => (s||'').replace(/[^\d]/g,'');
    const format344 = d => {
      d = onlyDigits(d).slice(0,11);
      if (d.length <= 3) return d;
      if (d.length <= 7) return d.slice(0,3) + '-' + d.slice(3);
      return d.slice(0,3) + '-' + d.slice(3,7) + '-' + d.slice(7);
    };
    const nf = new Intl.NumberFormat('ko-KR');

    const phoneInput = $('#phone');
    phoneInput.addEventListener('input', ()=>{
      const v = format344(phoneInput.value);
      phoneInput.value = v;
      phoneInput.setSelectionRange(v.length, v.length);
    });
    phoneInput.addEventListener('blur', ()=> phoneInput.value = format344(phoneInput.value));

    /* 주소 찾기 */
    function openPostcode(){
      new daum.Postcode({
        oncomplete: function(data){
          $('#postcode').value = data.zonecode || '';
          $('#addr1').value = data.roadAddress || data.address || '';
          $('#addr2').focus();
        }
      }).open();
    }
    document.getElementById('btnFindAddr').addEventListener('click', openPostcode);

    /* 라디오 pill 비주얼 */
    function wirePillGroup(groupEl){
      groupEl.addEventListener('click', (e)=>{
        const label = e.target.closest('.radio'); if(!label) return;
        const input = label.querySelector('input[type="radio"]'); if(!input) return;
        groupEl.querySelectorAll('.radio').forEach(lb=>{
          lb.classList.remove('selected');
          const i = lb.querySelector('input[type="radio"]'); if(i) i.checked = false;
        });
        input.checked = true; label.classList.add('selected');
        groupEl.classList.remove('invalid');
        if(groupEl.id === 'designGroup') updateTotals();
      });
    }
    wirePillGroup(document.getElementById('colorGroup'));
    wirePillGroup(document.getElementById('designGroup'));

    /* 스텝퍼 + 합계 */
    const sizesWrap = document.getElementById('sizesWrap');
    sizesWrap.addEventListener('click', (e)=>{
      const btn = e.target.closest('.qty-btn'); if(!btn) return;
      const box = btn.closest('.size-box');
      const input = box.querySelector('input[type="number"]');
      const delta = parseInt(btn.dataset.delta,10);
      const min = parseInt(input.min||'0',10);
      const max = parseInt(input.max||'99',10);
      const next = Math.max(min, Math.min(max, (parseInt(input.value,10)||0)+delta));
      input.value = next;
      updateTotals();
    });

    function getQtyTotal(){
      let t = 0;
      sizesWrap.querySelectorAll('input[type="number"]').forEach(i=> t += (parseInt(i.value,10)||0) );
      return t;
    }
    function getUnitPrice(){
      const d = (document.querySelector('input[name="design"]:checked')||{}).value || '';
      if(d === '텍스트형') return PRICE_TEXTBACK;
      if(d === '없음') return PRICE_NO_BACK;
      return null;
    }
    function updateTotals(){
      const qty = getQtyTotal();
      const unit = getUnitPrice();
      const shipping = qty>0 ? SHIPPING : 0;
      const subtotal = unit ? unit * qty : 0;
      const grand = subtotal + shipping;

      $('#qTotal').textContent   = `${qty} 장`;
      $('#unitPrice').textContent= unit ? `₩${nf.format(unit)}` : '—';
      $('#subtotal').textContent = unit ? `₩${nf.format(subtotal)}` : '—';
      $('#shipping').textContent = `₩${nf.format(shipping)}`;
      $('#grandTotal').textContent= `₩${nf.format(grand)}`;
    }
    updateTotals();

    /* 상태 표시 */
    function showStatusOk(msg){ document.getElementById('status').innerHTML = `<span style="font-weight:700;color:#065f46">${msg}</span>`; }
    function showStatusErr(msg){ document.getElementById('status').innerHTML = `<span style="font-weight:700;color:#b91c1c">${msg}</span>`; }

    /* 검증 */
    function validate(){
      const issues = [];
      ['custName','phone','postcode','addr1','addr2'].forEach(id=>document.getElementById(id).classList.remove('invalid'));
      document.getElementById('colorGroup').classList.remove('invalid');
      document.getElementById('designGroup').classList.remove('invalid');

      const name = $('#custName').value.trim();
      const phoneDigits = ( $('#phone').value || '' ).replace(/[^\d]/g,'');
      const postcode = $('#postcode').value.trim();
      const addr1 = $('#addr1').value.trim();
      const addr2 = $('#addr2').value.trim();
      const color = (document.querySelector('input[name="color"]:checked')||{}).value || '';
      const design= (document.querySelector('input[name="design"]:checked')||{}).value || '';
      const qtyTotal = getQtyTotal();

      if(!name){ issues.push('주문자 명'); $('#custName').classList.add('invalid'); }
      if(phoneDigits.length !== 11){ issues.push('전화번호(11자리)'); $('#phone').classList.add('invalid'); }
      if(!postcode){ issues.push('우편번호'); $('#postcode').classList.add('invalid'); }
      if(!addr1){ issues.push('도로명 주소'); $('#addr1').classList.add('invalid'); }
      if(!addr2){ issues.push('상세 주소'); $('#addr2').classList.add('invalid'); }
      if(!color){ issues.push('티셔츠 색상'); $('#colorGroup').classList.add('invalid'); }
      if(!design){ issues.push('뒷면 옵션'); $('#designGroup').classList.add('invalid'); }
      if(qtyTotal <= 0){ issues.push('사이즈별 수량(최소 1장)'); }

      if(issues.length){
        alert('다음 항목을 확인해 주세요:\n- ' + issues.join('\n- '));
        return false;
      }
      return true;
    }

    /* 제출 데이터 */
    function buildFormData(){
      const fd = new FormData();
      fd.set('form', 'tshirt_order');
      fd.set('customerName', $('#custName').value.trim());
      fd.set('phone', $('#phone').value.trim());
      fd.set('phone_norm', ($('#phone').value||'').replace(/[^\d]/g,''));
      fd.set('postcode', $('#postcode').value.trim());
      fd.set('address1', $('#addr1').value.trim());
      fd.set('address2', $('#addr2').value.trim());
      fd.set('address_full', `${$('#addr1').value.trim()} ${$('#addr2').value.trim()}`.trim());
      fd.set('color', (document.querySelector('input[name="color"]:checked')||{}).value || '');
      fd.set('design', (document.querySelector('input[name="design"]:checked')||{}).value || '');

      // 사이즈 수집
      const sizes = {};
      document.querySelectorAll('.size-box').forEach(box=>{
        const sz = box.dataset.size;
        const val = box.querySelector('input[type="number"]').value || '0';
        sizes[sz] = val;
        fd.set('qty_'+sz, val);
      });
      const qtyTotal = getQtyTotal();
      const unit = getUnitPrice() || 0;
      const subtotal = unit * qtyTotal;
      const shipping = qtyTotal>0 ? 4000 : 0;
      const grand = subtotal + shipping;

      fd.set('sizes_json', JSON.stringify(sizes));
      fd.set('qty_total', String(qtyTotal));
      fd.set('unit_price', String(unit));
      fd.set('subtotal', String(subtotal));
      fd.set('shipping', String(shipping));
      fd.set('grand_total', String(grand));
      fd.set('submittedAt', new Date().toISOString());
      return fd;
    }

    /* 초기화 */
    document.getElementById('btnReset').addEventListener('click', ()=>{
      document.getElementById('orderForm').reset();
      document.querySelectorAll('.radio').forEach(lb=>lb.classList.remove('selected'));
      document.querySelectorAll('.invalid').forEach(el=>el.classList.remove('invalid'));
      document.querySelectorAll('.size-box input[type="number"]').forEach(i=> i.value = '0');
      updateTotals();
      showStatusOk('초기화 완료');
    });

    /* 제출 */
    document.getElementById('orderForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      showStatusOk('');
      if(!validate()) return;

      const btn = document.getElementById('btnSubmit');
      btn.disabled = true; btn.textContent = '전송 중…';

      try{
        const res = await fetch(ENDPOINT, { method:'POST', body: buildFormData() });
        const data = await res.json().catch(()=>({ok:res.ok}));
        if(res.ok && data && data.ok){
          showStatusOk('주문이 접수되었습니다. 감사합니다!');
          alert('주문이 접수되었습니다. 감사합니다!');
          document.getElementById('orderForm').reset();
          document.querySelectorAll('.radio').forEach(lb=>lb.classList.remove('selected'));
          document.querySelectorAll('.size-box input[type="number"]').forEach(i=> i.value = '0');
          updateTotals();
        }else{
          console.error('Server response:', data);
          showStatusErr('서버 응답 오류가 발생했습니다.');
          alert('서버 응답 오류가 발생했습니다.');
        }
      }catch(err){
        console.error(err);
        showStatusErr('네트워크 오류가 발생했습니다.');
        alert('네트워크 오류가 발생했습니다.');
      }finally{
        btn.disabled = false; btn.textContent = '주문 제출';
      }
    });
  </script>
</body>
</html>
